{% extends "base.html" %}
{% block content %}

<h3 class="section-title">Nutrition Overview</h3>
{% if alerts %}
<div class="mb-3">
{% for a in alerts %}
<div class="alert alert-warning">{{a}}</div>
{% endfor %}
</div>
{% endif %}

<div class="row g-4">
<h5 class="mt-4">Personalized Advice</h5>

{% for t in personal_tips %}
<div class="alert alert-info">{{t}}</div>
{% endfor %}

<div class="col-md-4">
<div class="card-metric">
<div>Goal Calories</div>
<div class="metric-value text-success">{{goal}}</div>
</div>
</div>
<h5 class="mt-4 mb-3">Weekly Analytics</h5>

<div class="row g-3">

<div class="col-md-3">
<div class="card-metric">
Weekly Calories
<div class="metric-value text-primary">{{week_cal}}</div>
</div>
</div>
<div class="col-md-3">
<div class="card-metric">
Goal Profile
<div class="metric-value">{{current_user.goal}}</div>
</div>
</div>

<div class="col-md-3">
<div class="card-metric">
Weekly Protein
<div class="metric-value text-success">{{week_prot}}</div>
</div>
</div>
{% if week_limit_alerts %}
<div class="mt-3">
{% for a in week_limit_alerts %}
<div class="alert alert-danger">{{a}}</div>
{% endfor %}
</div>
{% endif %}

<div class="col-md-3">
<div class="card-metric">
Meals Logged
<div class="metric-value">{{week_count}}</div>
</div>
</div>

<div class="col-md-3">
<div class="card-metric">
Avg / Day
<div class="metric-value text-info">{{week_avg}}</div>
</div>
</div>

</div>

<div class="col-md-4">
<div class="card-metric">
<div>Consumed</div>
<div class="metric-value text-primary">{{total}}</div>
</div>
</div>

<div class="col-md-4">
<div class="card-metric">
<div>Diet Goal</div>
<div class="metric-value">{{current_user.goal}}</div>
</div>
</div>

</div>
<a class="btn btn-outline-primary mt-3" href="/report/weekly">
Download Weekly PDF Report
</a>

<div class="mt-4">
<a class="btn btn-primary-soft me-2" href="/analyze">Analyze Food</a>
<a class="btn btn-outline-dark" href="/analytics">View Analytics</a>
</div>

{% endblock %}
